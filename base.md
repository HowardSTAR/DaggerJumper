# Base

## <mark style="background-color:orange;">**BaseScreen.java**</mark>

Класс **`BaseScreen`** представляет базовый класс экрана в игре. Он реализует методы интерфейса Screen, определенного в библиотеке LibGDX, которая используется для создания игр.

Конструктор класса принимает объект типа **`Game`**, который используется для переключения между экранами игры. В конструкторе также создается объект типа **`OrthographicCamera`**, который используется для определения вида экрана.

1. Метод **`show()`** вызывается при отображении экрана и включает камеру, устанавливает ее позицию и размер, и устанавливает проекционную матрицу для камеры.&#x20;

```java
@Override
    public void show() {
        batch = new SpriteBatch();
        camera = new OrthographicCamera();

        music = Gdx.audio.newMusic(Gdx.files.internal("music/main.mp3"));
        
        viewport = new FitViewport(widthW,heightW, camera);
        viewport.apply();
        camera.position.set(camera.viewportWidth/2,camera.viewportHeight/2,0);

        Gdx.input.setInputProcessor(this);

        position = new Vector3();
        font = new BitmapFont();
    }
```

2. Метод **`resize()`** вызывается при изменении размеров экрана и обновляет соответствующие параметры камеры.&#x20;

```java
@Override
    public void resize(int width, int height) {
        viewport.update(width, height);
        camera.position.set(camera.viewportWidth/2,camera.viewportHeight/2,0);
    }
```

3. Метод `render()` вызывается каждый кадр и должен содержать логику отрисовки экрана.&#x20;

```java
@Override
    public void render(float delta) {
        font.getData().setScale(2);
    }
```

4. Метод `pause()` вызывается при приостановке игры, например, при переключении на другое приложение, и может использоваться для сохранения игрового состояния. Метод `resume()` вызывается при возобновлении игры и может использоваться для восстановления игрового состояния.

```java
@Override
    public void pause() {}

@Override
    public void resume() {}
```

5. Метод `hide()` вызывается при скрытии экрана и используется для освобождения ресурсов, связанных с экраном.

```java
@Override
    public void hide() {}
```

Класс также содержит методы для отрисовки текста, установки шрифта и цвета, и другие вспомогательные методы, которые могут быть использованы наследниками класса для отображения элементов на экране.

В целом, класс BaseScreen представляет базовый функционал экрана в игре и может быть унаследован другими экранами, которые расширяют его функциональность.

### <mark style="background-color:orange;">**ScaledTouchUpButton.java**</mark> <a href="#blob-path" id="blob-path"></a>

Класс `ScaledTouchUpButton` также является частью игрового движка LibGDX и представляет собой базовый класс для кнопок на экране игры. Он расширяет класс Actor, который является основным элементом отрисовки на экране в LibGDX.

Конструктор класса принимает текстуру кнопки, которая загружается из файла изображения в формате PNG или JPG, и позицию на экране. В конструкторе также создается объект типа Rectangle, который представляет собой прямоугольник вокруг кнопки, и который используется для определения нажатия на кнопку.

Методы `touchDown()` и `touchUp()` - это методы, которые вызываются при нажатии на экран и отпускании пальца соответственно. Они реализуют логику обработки касания экрана. В классе `ScaledTouchUpButton` они используются для определения, была ли кнопка нажата, и установки соответствующего флага `isPressed`.

```java
@Override
    public boolean touchDown(int screenX, int screenY, int pointer, int button) {
        return false;
    }

    @Override
    public boolean touchUp(int screenX, int screenY, int pointer, int button) {
        action();
        return false;
    }
```

Метод `action()` - это метод, который определяет, что происходит с кнопкой в зависимости от текущего состояния флага `isPressed`. Если кнопка нажата и пользователь продолжает держать палец на экране, то метод вызывает метод `scale()` для уменьшения размера кнопки. Если кнопка была отпущена, то метод вызывает метод `resetScale()`для возврата кнопки в исходное состояние.

```java
public abstract void action();
```

Таким образом, методы touchDown(), touchUp() и action() являются важной частью функционала ScaledTouchUpButton и позволяют определить поведение кнопки в зависимости от действий пользователя.

### <mark style="background-color:orange;">**Sprite.java**</mark> <a href="#blob-path" id="blob-path"></a>

Класс `Sprite` представляет собой объект, который содержит графическую информацию о спрайте, а также реализует методы для его отображения и изменения позиции на экране.

Поля класса включают:

* `TextureRegion region`: область текстуры, на которой находится спрайт;
* `float x, y`: координаты спрайта на экране;
* `float width, height`: ширина и высота спрайта;
* `Vector2 position`: позиция спрайта;
* `Vector2 velocity`: вектор скорости движения спрайта;
* `boolean isAlive: флаг`, определяющий, жив ли спрайт.

Класс `Sprite` реализует метод:

* `draw(SpriteBatch batch)`: отображает спрайт на экране.

```java
public void draw(SpriteBatch batch){
    batch.draw(regions, x, y, 0, 0,width,height,1,1,0);
}
```

Метод `draw()` отображает спрайт на экране. Он принимает в качестве аргумента `batch` - объект `SpriteBatch`, который предоставляет методы для отрисовки графики на экране. Метод использует метод `batch.draw()` для отображения области текстуры спрайта на экране с заданными координатами и размером.

Таким образом, класс Sprite представляет собой удобный способ хранения и отображения графической информации о спрайтах на экране, а методы update() и draw() реализуют основную логику для их отображения и перемещения на экране.
